{
    "error": [],
    "warning": [
        {
            "severity": "info",
            "line_from": 62,
            "line_to": 62,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Yves\\DiscountPromotion\\Mapper\\PromotionProductMapper::getSelectedAttributes cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Yves/DiscountPromotion/Mapper/PromotionProductMapper.php",
            "snippet": "            $selectedAttributes = $this->getSelectedAttributes($request, $promotionItemTransfer->getAbstractSku());",
            "selected_text": "$promotionItemTransfer->getAbstractSku()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 105,
            "line_to": 105,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Yves\\DiscountPromotion\\Dependency\\Client\\DiscountPromotionToProductInterface::getProductAbstractFromStorageByIdForCurrentLocale cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Yves/DiscountPromotion/Mapper/PromotionProductMapper.php",
            "snippet": "        return $this->productClient->getProductAbstractFromStorageByIdForCurrentLocale($promotionItemTransfer->getIdProductAbstract());",
            "selected_text": "$promotionItemTransfer->getIdProductAbstract()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 125,
            "line_to": 125,
            "type": "PossiblyNullOperand",
            "message": "Cannot concatenate with a possibly null null|string",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Yves/DiscountPromotion/Mapper/PromotionProductMapper.php",
            "snippet": "        return $promotionItemTransfer->getAbstractSku() . '-' . $promotionItemTransfer->getIdDiscountPromotion();",
            "selected_text": "$promotionItemTransfer->getAbstractSku()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 125,
            "line_to": 125,
            "type": "PossiblyNullOperand",
            "message": "Cannot concatenate with a possibly null int|null",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Yves/DiscountPromotion/Mapper/PromotionProductMapper.php",
            "snippet": "        return $promotionItemTransfer->getAbstractSku() . '-' . $promotionItemTransfer->getIdDiscountPromotion();",
            "selected_text": "$promotionItemTransfer->getIdDiscountPromotion()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 96,
            "line_to": 96,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getPromotionItems on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Cart/CartValidator.php",
            "snippet": "        foreach ($cartChangeTransfer->getQuote()->getPromotionItems() as $promotionItemTransfer) {",
            "selected_text": "getPromotionItems",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 97,
            "line_to": 97,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $groupedByIdAvailablePromotionItemTransfers[int|mixed|null] using possibly null offset int|mixed|null",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Cart/CartValidator.php",
            "snippet": "            $groupedByIdAvailablePromotionItemTransfers[$promotionItemTransfer->getIdDiscountPromotion()][] = $promotionItemTransfer;",
            "selected_text": "$groupedByIdAvailablePromotionItemTransfers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 73,
            "line_to": 73,
            "type": "PossiblyNullArgument",
            "message": "Argument 3 of Spryker\\Zed\\DiscountPromotion\\Business\\Model\\DiscountCollectorStrategy\\PromotionAvailabilityCalculatorInterface::getMaximumQuantityBasedOnAvailability cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/DiscountPromotionCollectorStrategy.php",
            "snippet": "            $quoteTransfer->getStore(),",
            "selected_text": "$quoteTransfer->getStore()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 160,
            "line_to": 160,
            "type": "InvalidNullableReturnType",
            "message": "The declared return type 'int' for Spryker\\Zed\\DiscountPromotion\\Business\\Model\\DiscountCollectorStrategy\\DiscountPromotionCollectorStrategy::adjustPromotionItemQuantity is not nullable, but 'int|null' contains null",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/DiscountPromotionCollectorStrategy.php",
            "snippet": "     * @return int",
            "selected_text": "int",
            "error_level": 5,
            "shortcode": 144
        },
        {
            "severity": "info",
            "line_from": 169,
            "line_to": 169,
            "type": "NullableReturnStatement",
            "message": "The declared return type 'int' for Spryker\\Zed\\DiscountPromotion\\Business\\Model\\DiscountCollectorStrategy\\DiscountPromotionCollectorStrategy::adjustPromotionItemQuantity is not nullable, but the function returns 'int|null'",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/DiscountPromotionCollectorStrategy.php",
            "snippet": "        return $currentQuantity;",
            "selected_text": "$currentQuantity",
            "error_level": 5,
            "shortcode": 139
        },
        {
            "severity": "info",
            "line_from": 196,
            "line_to": 196,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\DiscountPromotion\\Persistence\\DiscountPromotionQueryContainerInterface::queryDiscountPromotionByIdDiscount cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/DiscountPromotionCollectorStrategy.php",
            "snippet": "            ->queryDiscountPromotionByIdDiscount($discountTransfer->getIdDiscount())",
            "selected_text": "$discountTransfer->getIdDiscount()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 49,
            "line_to": 49,
            "type": "PossiblyNullReference",
            "message": "Cannot call method lessThanOrEquals on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/PromotionAvailabilityCalculator.php",
            "snippet": "        if ($productAbstractAvailabilityTransfer->getAvailability()->lessThanOrEquals(0)) {",
            "selected_text": "lessThanOrEquals",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 53,
            "line_to": 53,
            "type": "PossiblyNullReference",
            "message": "Cannot call method lessThan on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/PromotionAvailabilityCalculator.php",
            "snippet": "        if ($productAbstractAvailabilityTransfer->getAvailability()->lessThan($maxQuantity)) {",
            "selected_text": "lessThan",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 54,
            "line_to": 54,
            "type": "PossiblyNullReference",
            "message": "Cannot call method toInt on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/PromotionAvailabilityCalculator.php",
            "snippet": "            return $productAbstractAvailabilityTransfer->getAvailability()->toInt();",
            "selected_text": "toInt",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 49,
            "line_to": 49,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIdDiscount on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountPromotionReader.php",
            "snippet": "        $idDiscount = $discountConfiguratorTransfer->getDiscountGeneral()->getIdDiscount();",
            "selected_text": "getIdDiscount",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 51,
            "line_to": 51,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\DiscountPromotion\\Business\\Model\\DiscountPromotionReader::findDiscountPromotionByIdDiscount cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountPromotionReader.php",
            "snippet": "        $discountPromotionTransfer = $this->findDiscountPromotionByIdDiscount($idDiscount);",
            "selected_text": "$idDiscount",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 57,
            "line_to": 57,
            "type": "PossiblyNullReference",
            "message": "Cannot call method setCollectorStrategyType on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountPromotionReader.php",
            "snippet": "        $discountCalculatorTransfer->setCollectorStrategyType(DiscountPromotionConfig::DISCOUNT_COLLECTOR_STRATEGY);",
            "selected_text": "setCollectorStrategyType",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 26,
            "line_to": 26,
            "type": "MoreSpecificImplementedParamType",
            "message": "Argument 2 of Spryker\\Zed\\DiscountPromotion\\Communication\\Form\\DiscountPromotionFormType::buildForm has the more specific type 'array<string, mixed>', expecting 'array<array-key, mixed>' as defined by Symfony\\Component\\Form\\AbstractType::buildForm",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Form/DiscountPromotionFormType.php",
            "snippet": "    public function buildForm(FormBuilderInterface $builder, array $options)",
            "selected_text": "$options",
            "error_level": 5,
            "shortcode": 140
        },
        {
            "severity": "info",
            "line_from": 52,
            "line_to": 52,
            "type": "PossiblyNullOperand",
            "message": "Cannot concatenate with a possibly null null|string",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Cart/CartGroupPromotionItems.php",
            "snippet": "        return $itemTransfer->getGroupKey() . '-' . DiscountPromotionConfig::DISCOUNT_COLLECTOR_STRATEGY . '-' . $itemTransfer->getIdDiscountPromotion();",
            "selected_text": "$itemTransfer->getGroupKey()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 52,
            "line_to": 52,
            "type": "PossiblyNullOperand",
            "message": "Cannot concatenate with a possibly null int|null",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Cart/CartGroupPromotionItems.php",
            "snippet": "        return $itemTransfer->getGroupKey() . '-' . DiscountPromotionConfig::DISCOUNT_COLLECTOR_STRATEGY . '-' . $itemTransfer->getIdDiscountPromotion();",
            "selected_text": "$itemTransfer->getIdDiscountPromotion()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 30,
            "line_to": 30,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getCollectorStrategyType on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/BaseDiscountPromotionSaverPlugin.php",
            "snippet": "        return $discountConfiguratorTransfer->getDiscountCalculator()->getCollectorStrategyType() === DiscountPromotionConfig::DISCOUNT_COLLECTOR_STRATEGY;",
            "selected_text": "getCollectorStrategyType",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 41,
            "line_to": 41,
            "type": "PossiblyNullReference",
            "message": "Cannot call method requireIdDiscount on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/BaseDiscountPromotionSaverPlugin.php",
            "snippet": "        $discountGeneralTransfer->requireIdDiscount();",
            "selected_text": "requireIdDiscount",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 42,
            "line_to": 42,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/BaseDiscountPromotionSaverPlugin.php",
            "snippet": "        $discountPromotionTransfer = $discountConfiguratorTransfer->getDiscountCalculator()->getDiscountPromotion() ?? new DiscountPromotionTransfer();",
            "selected_text": "getDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 34,
            "line_to": 34,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\DiscountPromotion\\Business\\DiscountPromotionFacadeInterface::removePromotionByIdDiscount cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionCleanerPostUpdatePlugin.php",
            "snippet": "            $this->getFacade()->removePromotionByIdDiscount($discountConfiguratorTransfer->getDiscountGeneral()->getIdDiscount());",
            "selected_text": "$discountConfiguratorTransfer->getDiscountGeneral()->getIdDiscount()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 34,
            "line_to": 34,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIdDiscount on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionCleanerPostUpdatePlugin.php",
            "snippet": "            $this->getFacade()->removePromotionByIdDiscount($discountConfiguratorTransfer->getDiscountGeneral()->getIdDiscount());",
            "selected_text": "getIdDiscount",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 35,
            "line_to": 35,
            "type": "PossiblyNullReference",
            "message": "Cannot call method setDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionCleanerPostUpdatePlugin.php",
            "snippet": "            $discountConfiguratorTransfer->getDiscountCalculator()->setDiscountPromotion(new DiscountPromotionTransfer());",
            "selected_text": "setDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 35,
            "line_to": 35,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\DiscountPromotion\\Business\\DiscountPromotionFacadeInterface::isDiscountWithPromotion cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionCollectorStrategyPlugin.php",
            "snippet": "        return $this->getFacade()->isDiscountWithPromotion($discountTransfer->getIdDiscount());",
            "selected_text": "$discountTransfer->getIdDiscount()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 38,
            "line_to": 38,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionFilterCollectedItemsPlugin.php",
            "snippet": "        $discountPromotionTransfer = $collectedDiscountTransfer->getDiscount()->getDiscountPromotion();",
            "selected_text": "getDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 45,
            "line_to": 45,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIdDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionFilterCollectedItemsPlugin.php",
            "snippet": "            if ($itemTransfer->getOriginalItem() && $itemTransfer->getOriginalItem()->getIdDiscountPromotion()) {",
            "selected_text": "getIdDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 36,
            "line_to": 36,
            "type": "PossiblyNullReference",
            "message": "Cannot call method setDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionPostCreatePlugin.php",
            "snippet": "        $discountConfiguratorTransfer->getDiscountCalculator()->setDiscountPromotion($discountPromotionTransfer);",
            "selected_text": "setDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 39,
            "line_to": 39,
            "type": "PossiblyNullReference",
            "message": "Cannot call method setDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionPostUpdatePlugin.php",
            "snippet": "        $discountConfiguratorTransfer->getDiscountCalculator()->setDiscountPromotion($discountPromotionTransfer);",
            "selected_text": "setDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 38,
            "line_to": 38,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getDiscountPromotion on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/PromotionCollectedDiscountGroupingStrategyPlugin.php",
            "snippet": "        return $collectedDiscountTransfer->getDiscount()->getDiscountPromotion() !== null;",
            "selected_text": "getDiscountPromotion",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 62,
            "line_to": 62,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of findOneByIdDiscountPromotion cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Persistence/DiscountPromotionEntityManager.php",
            "snippet": "            ->findOneByIdDiscountPromotion($discountPromotionTransfer->getIdDiscountPromotion());",
            "selected_text": "$discountPromotionTransfer->getIdDiscountPromotion()",
            "error_level": 3,
            "shortcode": 78
        }
    ],
    "deprecation": [
        {
            "severity": "info",
            "line_from": 185,
            "line_to": 185,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\DiscountableItemTransfer::setUnitGrossPrice has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Business/Model/DiscountCollectorStrategy/DiscountPromotionCollectorStrategy.php",
            "snippet": "            ->setUnitGrossPrice($promotionItemTransfer->getUnitGrossPrice());",
            "selected_text": "setUnitGrossPrice",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 21,
            "line_to": 21,
            "type": "DeprecatedInterface",
            "message": "Spryker\\Zed\\Calculation\\Dependency\\Plugin\\CalculationPluginInterface is marked deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Calculation/RemovePromotionItemsCalculatorPlugin.php",
            "snippet": "class RemovePromotionItemsCalculatorPlugin extends AbstractPlugin implements CalculationPluginInterface",
            "selected_text": "RemovePromotionItemsCalculatorPlugin",
            "error_level": 2,
            "shortcode": 152
        },
        {
            "severity": "info",
            "line_from": 22,
            "line_to": 22,
            "type": "DeprecatedInterface",
            "message": "Spryker\\Zed\\Cart\\Dependency\\ItemExpanderPluginInterface is marked deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Cart/CartGroupPromotionItems.php",
            "snippet": "class CartGroupPromotionItems extends AbstractPlugin implements ItemExpanderPluginInterface",
            "selected_text": "CartGroupPromotionItems",
            "error_level": 2,
            "shortcode": 152
        },
        {
            "severity": "info",
            "line_from": 41,
            "line_to": 41,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\DiscountPromotion\\Communication\\DiscountPromotionCommunicationFactory::createDiscountFormPromotionType has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/DiscountPromotion/src/Spryker/Zed/DiscountPromotion/Communication/Plugin/Discount/DiscountPromotionCalculationFormExpanderPlugin.php",
            "snippet": "            $this->getFactory()->createDiscountFormPromotionType(),",
            "selected_text": "createDiscountFormPromotionType",
            "error_level": 2,
            "shortcode": 1
        }
    ]
}
